# Software Design 3

## Опис проєкту

Метою даного проєкту є розробка та експериментальне дослідження
захищеного REST API, створеного з використанням Node.js та Express.
Система моделює роботу корпоративного серверу для управління ресурсами
типу “документи” та “співробітники”, з підтримкою
аутентифікації, авторизації та ролей користувачів
(звичайний користувач, адміністратор).

Тестування функціоналу проводиться як вручну, через
інструмент Postman, так і автоматизовано за допомогою
скрипта test-client.js, який імітує поведінку користувачів різних ролей.

------------------------------------------------------------------------

## Встановлення та запуск

1.  Клонуйте репозиторій:

    ``` bash
    git clone https://github.com/kwewk/secure-api-lab
    cd secure-api-lab
    ```

2.  Встановіть залежності:

    ``` bash
    npm install
    ```

3.  Запустіть сервер:

    ``` bash
    npm start
    ```

    Сервер буде доступний за адресою: <http://localhost:3000>

------------------------------------------------------------------------

## Тестування

### Запуск тестового клієнта

Для запуску автоматичних тестів:

``` bash
npm test
```

### Скрипт test-client.js автоматично звертається до ендпоінтів сервера та перевіряє типові сценарії використання, включно з:
1) спробою доступу без авторизації (401 Unauthorized);

2) зверненнями від звичайного користувача (200 OK / 403 Forbidden);

3) запитами від адміністратора (200 OK);

4) створенням нового документа (201 Created / 400 Bad Request);

5) видаленням документа (204 No Content);

6) обробкою некоректних маршрутів (404 Not Found).

7) Результати тестів відображаються у консолі з коротким підсумком по кожному запиту.

------------------------------------------------------------------------

## Ендпоінти API

| Метод  | URL              | Опис                                   | Заголовки (Headers)                  | Тіло запиту (Body)                     | Коди відповіді       |
|--------|------------------|----------------------------------------|--------------------------------------|----------------------------------------|----------------------|
| GET    | `/documents`     | Отримати список усіх документів        | `X-Login`, `X-Password`              | –                                      | 200 OK, 401 Unauthorized |
| POST   | `/documents`     | Створити новий документ                | `X-Login`, `X-Password`              | `{ "title": "...", "content": "..." }` | 201 Created, 400 Bad Request, 401 Unauthorized |
| DELETE | `/documents/:id` | Видалити документ за ID                | `X-Login`, `X-Password`              | –                                      | 204 No Content, 401 Unauthorized, 404 Not Found |
| GET    | `/employees`     | Отримати список співробітників (admin) | `X-Login`, `X-Password` (роль admin) | –                                      | 200 OK, 401 Unauthorized, 403 Forbidden |

## Приклади роботи

![1](images/doc_200.png)
![2](images/doc_201.png)
![3](images/doc_204.png)
![4](images/doc_400.png)
![5](images/doc_401.png)
![6](images/employees_200.png)
![7](images/employees_403.png)
![8](images/non-existent_404.png)

------------------------------------------------------------------------

## Посилання на репозиторій

[Repository](https://github.com/kwewk/secure-api-lab)
